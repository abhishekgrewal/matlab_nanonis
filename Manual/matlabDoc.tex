% !TEX encoding = UTF-8 Unicode

\input{header.tex}
\usepackage{amsmath}
\renewcommand{\familydefault}{\sfdefault}
\setlength\parindent{0pt}


\newcommand{\+}[1]{\item \textbf{#1}}
\newcommand{\nanonis}{\href{http://www.specs-zurich.com/en/home.html;jsessionid=FCD8A587EE447665C3F4A8CC374671EE}{Nanonis SPM Control System\texttrademark}}
\newcommand{\matlab}{MATLAB\texttrademark}

%Title
\title{NanoLib user guide}
%Utiliser \breakline plut√¥t que \\ dans du texte normal
%\author{Quentin Peter\\{\small \mail{qpeter@stud.phys.ethz.ch}}}
\author{
ETH Zurich\\
Laboratory of Solid State Physics\\\vspace{.5em}
Microstructure Research\\ 
{\small Danilo A. Zanin - \mail{dzanin@phys.ethz.ch}}\\
{\small Lorenzo G. De Pietro - \mail{depietro@phys.ethz.ch}}\\
{\small Quentin Peter - \mail{qpeter@stud.phys.ethz.ch}}
}

\date{\today}

\begin{document}
\maketitle
NanoLib library allows to open and analyze data generated by the \nanonis{} in \matlab.
The first version was developed in 2015 by Quentin Peter during its master thesis \emph{Spin Polarized Field Emission STM and Image Processing} in the Solid State Laboratory for \href{http://www.microstructure.ethz.ch}{Microstruture Research} at the ETH Zurich under the supervision of Dr. U. Ramsperger and L.G. De Pietro.
Some of the features of this library are still oriented to solve problems related to Quentin's thesis, e.g., \emph{scan\_type} field in the header structure (see \ref{sec:sxmFile}). 
In next versions these feature may be changed and generalized.\\

NanoLib library is divided in the package folders: \emph{+sxm}, \emph{+dat} and \emph{+utility}.

A function in a folder called \emph{+folder} can be called as \emph{folder.function}.\\

\newpage
\tableofcontents

%-------------------------------------------------------------------------------%
%  SXM FILES                                                                    %
%-------------------------------------------------------------------------------%
\include{sxm}
%-------------------------------------------------------------------------------%
%  DAT FILES                                                                    %
%-------------------------------------------------------------------------------%
\include{dat}


\section{+utility}

The package folder \emph{+utility} contains generic functions, which can be used when analyzing both \emph{sxmFiles} and \emph{datFiles}

% ------------------------------ %
\subsubsection{getColor}
\bdf
\+{[color,colorScale] = getColor(x,xRange)} computes the ratio between a value \emph{x} and the \emph{xRange} (2 by 1 array). It returns the \emph{color} --  and the \emph{colorScale}  -- according to a predefined color map. \emph{Jet} is the default color map. 

\+{[color,colorScale] = getColor(x,xRange,mapping)} allows to provide e specified \emph{mapping} other than the default, i.e. \emph{jet}. \emph{mapping} should be a color map function, e.g. \emph{hsv}, \emph{parula}, \emph{hot}, \emph{summer}m \emph{autumn}. Note that, since \emph{mapping} is an argument of functions \emph{getColor}, it must be called by function handle ``at'' -- @.
\edf

\newpage

%-------------------------------------------------------------------------------%
%  EXAMPLE                                                                      %
%-------------------------------------------------------------------------------%
\section{Examples} 

NanoLib library comes with few example showing the basics usage of the library. Some files are also provided in the directory \emph{Files}.
Below a list of all examples with a short explanation.
% ------------------------------ %
\subsection{SxM\_Example}
\bdf
\item[example\_open\_SxM] shows different ways to load a \emph{file.sxm}.
\item[example\_process\_option] shows different ways to process a file while loading a \emph{file.sxm}.
\item[example\_get\_drift] detect XY-offset between two different \emph{sxmFiles}.
\item[example\_mask] generates a mask of a \emph{sxmFile} and apply on the original image.
\item[example\_RadialFFT] applies \emph{op.getRadialFFT} and plots some interesting quantities.
\edf
\subsection{dat\_Example}
\bdf
\item[example\_open\_Dat] shows different ways to load some \emph{experiment.dat}.
\edf
\end{document}
